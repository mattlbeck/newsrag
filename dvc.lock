schema: '2.0'
stages:
  download_feeds:
    cmd: python exp/download_feeds.py
    deps:
    - path: exp/download_feeds.py
      hash: md5
      md5: e2c3e4f13bf118a88ea631f155b26c92
      size: 575
    outs:
    - path: data/documents.jsonl
      hash: md5
      md5: 0c6568e46382ab699962d1980e9d4b53
      size: 730332
  index_documents:
    cmd: python exp/index_documents.py
    deps:
    - path: data/documents.jsonl
      hash: md5
      md5: 0c6568e46382ab699962d1980e9d4b53
      size: 730332
    - path: exp/index_documents.py
      hash: md5
      md5: 2327c774a08e68df25bc341f8f54475f
      size: 1297
    outs:
    - path: data/document_store.json
      hash: md5
      md5: 28dac3da53782781fe198da402a5aec3
      size: 38620912
  model_topics:
    cmd: python exp/model_topics.py
    deps:
    - path: data/document_store.json
      hash: md5
      md5: 28dac3da53782781fe198da402a5aec3
      size: 38620912
    - path: exp/model_topics.py
      hash: md5
      md5: dae925697e60ff900453ca8b474c68a1
      size: 2457
    params:
      params.yaml:
        model_topics:
          days: 1
          reps: 10
          umap:
            n_neighbors: 50
            n_components: 5
            metric: euclidean
          hdbscan:
            min_cluster_size: 15
